---
import { gsap } from "gsap";

import { ScrollTrigger } from "gsap/ScrollTrigger";
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import hero from "../assets/hero.jpg";
import heroVideo from "../assets/hero.mp4";
import astro1 from "../assets/astro1.jpg";
import astro2 from "../assets/astro2.jpg";
import astro3 from "../assets/astro3.jpg";
import astro4 from "../assets/astro4.jpg";
import astro5 from "../assets/astro5.jpg";
import astro6 from "../assets/astro6.jpg";
---

<Layout>
  <div class="relative flex justify-center items-center h-full">
    <h1 class="relative z-10 text-[26vw] font-black text-white leading-0">
      Aurora
    </h1>
    <!-- <Image src={hero} alt="hero aurora" class="bg-image" /> -->
    <video autoplay muted loop class="bg-video">
      <source src={heroVideo} type="video/mp4" />
    </video>
  </div>

  <div class="relative flex justify-center gap-14 py-[300px]">
    <div class="">
      <h2 class="text-4xl">Fairbanks, Alaska</h2>
      <p class="text-2xl">March 2025</p>
    </div>
    <div class="max-w-[300px]">
      <p class="text-xl">
        9 days of stunning aurora borealis on mountians, frozen lakes, and
        forests.
      </p>
    </div>
  </div>

  <div class="py-20 px-4 bg-neutral-950">
    <div class="img-grid grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <Image src={astro1} alt="astro1" class="auroraImg" />
      <Image src={astro2} alt="astro2" class="auroraImg" />
      <Image src={astro3} alt="astro3" class="auroraImg" />
      <Image src={astro4} alt="astro4" class="auroraImg" />
      <Image src={astro5} alt="astro5" class="auroraImg" />
      <Image src={astro6} alt="astro6" class="auroraImg" />
    </div>
  </div>
</Layout>

<style>
  .bg-image {
    width: 100%;
    height: 80vh;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 0;
    object-fit: cover;
  }
  .bg-video {
    width: 100%;
    height: 100vh;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 0;
    object-fit: cover;
  }

  .img-grid {
  }

  .img-grid img {
    max-width: 100%;
  }
</style>

<script>
  gsap.registerPlugin(ScrollTrigger);

  const auroraImg = document.querySelector(".auroraImg");

  gsap.fromTo(
    auroraImg,
    {
      scrollTrigger: auroraImg, // start the animation when ".box" enters the viewport (once)
      opacity: 0,
    },
    { opacity: 1 }
  );
</script>
